"use strict";var _createClass=function(){function a(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var Progress=function(){function a(){var b=arguments.length<=0|| void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,a),this.timestamp=null,this.duration=b.duration||a.CONST.DURATION,this.progress=0,this.delta=0,this.progress=0,this.isLoop=!!b.isLoop,this.reset()}return a.prototype.reset=function(){this.timestamp=null},a.prototype.start=function(a){this.timestamp=a},a.prototype.tick=function(a){return this.timestamp?(this.delta=a-this.timestamp,this.progress=Math.min(this.delta/this.duration,1),this.progress>=1&&this.isLoop&&this.start(a),this.progress):0},_createClass(a,null,[{key:"CONST",get:function(){return{DURATION:1e3}}}]),a}(),Confetti=function(){function a(b){_classCallCheck(this,a),this.parent=b.elm||document.body,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.width=b.width||this.parent.offsetWidth,this.height=b.height||this.parent.offsetHeight,this.length=b.length||a.CONST.PAPER_LENGTH,this.yRange=b.yRange||2*this.height,this.progress=new Progress({duration:b.duration,isLoop:!0}),this.rotationRange="number"==typeof b.rotationLength?b.rotationRange:10,this.speedRange="number"==typeof b.speedRange?b.speedRange:10,this.sprites=[],this.canvas.style.cssText="display: block;position: absolute;top: 0;left: 0;pointer-events: none",this.render=this.render.bind(this),this.build(),this.parent.append(this.canvas),this.progress.start(performance.now()),requestAnimationFrame(this.render)}return a.prototype.build=function(){for(var d=0;d<this.length;++d){var b=document.createElement("canvas"),c=b.getContext("2d");b.width=a.CONST.SPRITE_WIDTH,b.height=a.CONST.SPRITE_HEIGHT,b.position={initX:Math.random()*this.width,initY:-b.height-Math.random()*this.yRange},b.rotation=this.rotationRange/2-Math.random()*this.rotationRange,b.speed=this.speedRange/2+Math.random()*(this.speedRange/2),c.save(),c.fillStyle=a.CONST.COLORS[Math.random()*a.CONST.COLORS.length|0],c.fillRect(0,0,b.width,b.height),c.restore(),this.sprites.push(b)}},a.prototype.render=function(d){var c=this.progress.tick(d);this.canvas.width=this.width,this.canvas.height=this.height;for(var b=0;b<this.length;++b)this.ctx.save(),this.ctx.translate(this.sprites[b].position.initX+this.sprites[b].rotation*a.CONST.ROTATION_RATE*c,this.sprites[b].position.initY+c*(this.height+this.yRange)),this.ctx.rotate(this.sprites[b].rotation),this.ctx.drawImage(this.sprites[b],-a.CONST.SPRITE_WIDTH*Math.abs(Math.sin(c*Math.PI*2*this.sprites[b].speed))/2,-a.CONST.SPRITE_HEIGHT/2,a.CONST.SPRITE_WIDTH*Math.abs(Math.sin(c*Math.PI*2*this.sprites[b].speed)),a.CONST.SPRITE_HEIGHT),this.ctx.restore();requestAnimationFrame(this.render)},_createClass(a,null,[{key:"CONST",get:function(){return{SPRITE_WIDTH:9,SPRITE_HEIGHT:16,PAPER_LENGTH:100,DURATION:8e3,ROTATION_RATE:50,COLORS:["#EF5350","#EC407A","#AB47BC","#7E57C2","#5C6BC0","#42A5F5","#29B6F6","#26C6DA","#26A69A","#66BB6A","#9CCC65","#D4E157","#FFEE58","#FFCA28","#FFA726","#FF7043","#8D6E63","#BDBDBD","#78909C"]}}}]),a}();new Confetti({width:window.innerWidth,height:window.innerHeight,length:120,duration:8e3}),setTimeout(function(){new Confetti({width:window.innerWidth,height:window.innerHeight,length:120,duration:8e3})},4e3)